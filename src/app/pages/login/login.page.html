<ion-content fullscreen class="login-page">
  <div class="login-container">
    <!-- Imagen de fondo para pantallas grandes -->
    <div class="login-background"></div>

    <!-- Formulario -->
    <div class="login-form-wrapper">
      <div [formGroup]="loginForm" class="login-form">
        <img src="assets/logo_transparente.png" alt="Logo de Embassy" class="logo" />

        <h2 class="form-title">Bienvenido</h2>
        <p class="subtitle"><small>Accede a tu cuenta para continuar</small></p>

        @if (hasError) {
          <div class="custom-alert warning">
            <ion-text>{{ messageError }}</ion-text>
          </div>
        }

        <ion-input
          formControlName="user"
          label-placement="floating"
          label="Correo electrónico"
          type="text"
          class = "embassy_input"
          (ionBlur)="getControl('user')?.markAsTouched()">
        </ion-input>
        <!-- <ion-text color="danger" *ngIf="getControl('user')?.invalid && getControl('user')?.touched">
          Ingresa el correo electrónico con el cual te registraste
        </ion-text> -->

        <ion-input
          formControlName="password"
          label-placement="floating"
          label="Contraseña"
          type="password"
          class = "embassy_input"
          (ionBlur)="getControl('password')?.markAsTouched()">
          <ion-input-password-toggle *ngIf="getControl('password')!.value! != ''" slot="end"></ion-input-password-toggle>
        </ion-input>
        <!-- <ion-text color="danger" *ngIf="getControl('password')?.invalid && getControl('password')?.touched">
          Ingresa tu contraseña de Embassy
        </ion-text> -->
        <hr class = "spacer_embassy"/>
        <ion-button expand="block" shape="round" [disabled]="formEnviado" (click)="onSubmit()">
          Ingresar
        </ion-button>
        <hr class = "spacer_embassy"/>
        <div class="form-links">
          <a [routerLink]="'/password/recovery'">¿Olvidaste tu contraseña?</a>
        </div>
      </div>
    </div>
  </div>
</ion-content>
