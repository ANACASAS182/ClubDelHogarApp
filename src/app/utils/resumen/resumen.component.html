<ion-card *ngIf="cargaCompletada">
  <ion-card-content>
    <ng-container *ngIf="MostrarIngresos">
      <!-- esta es la parte del dinero-->
      <ion-grid>
        <ion-row>
          <ion-col>
            <div style="color:#272727; font-weight: bold; text-align: start;">
              Ingresos acumulados
            </div>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <span style="font-size: .5rem; font-weight: bold;">Directos</span>
            <div style="color:#444444;font-size: 1.2rem; font-weight: bold; text-align: start;">
              {{ingresosDirectosTexto}} <span style="font-variant: small-caps;">mxn</span>
            </div>
          </ion-col>
          <ion-col>
            <span style="font-size: .5rem; font-weight: bold;">Indirectos</span>
            <div style="color:#444444;font-size: 1.2rem; font-weight: bold; text-align: start;">
              {{ingresosIndirectosTexto}} <span style="font-variant: small-caps;">mxn</span>
            </div>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <span style="font-size: .5rem; font-weight: bold;">Total</span>
            <div [ngClass]="{ 'jump': showJump }"
                 style="color:#349721;font-size: 2rem; font-weight: bold; text-align: start;">
              {{ingresosAcumuladosTexto}} <span style="font-variant: small-caps;">mxn</span>
            </div>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <div style="color:#748299; font-size:.8em; text-align: start;">
              Recibirás tus ingresos el <br /><strong>{{fechaTexto}}</strong>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ng-container>

    <ng-container *ngIf="MostrarIngresos && MostrarInvitados">
      <ion-item-divider></ion-item-divider>
    </ng-container>

    <ng-container *ngIf="MostrarInvitados">
      <ion-grid>

        <!-- ===== PENDIENTES ===== -->
        <ion-item lines="none" detail="false" class="section-header">
          <div slot="start" class="section-title">
            Embajadores invitados {{CuantosDeCuantos}}
          </div>

          <!-- el único trigger: el botón con la flecha hacia abajo -->
          <ion-button fill="clear" size="small" slot="end"
                      class="chev-btn"
                      (click)="toggle('pend')"
                      aria-label="Mostrar/ocultar pendientes">
            <ion-icon name="chevron-down-outline"
                      class="chev"
                      [class.open]="showPendientes"></ion-icon>
          </ion-button>
        </ion-item>

        <div class="collapse" [class.open]="showPendientes">
          <div class="collapse-inner">
            <ion-row *ngFor="let e of resumen?.embajadoresInvitados; let i = index; trackBy: trackInvitado">
              <ion-col>
                <div class="row-item" [style.animationDelay.ms]="i * 40">
                  <div class="item-date">{{ e.fechaInvitacionTexto }}</div>
                  <div class="item-line">
                    <strong class="item-text">{{ e.nombre }}</strong>
                    <span class="badge badge-pend">PENDIENTE</span>
                  </div>
                </div>
              </ion-col>
            </ion-row>
            <div *ngIf="!(resumen?.embajadoresInvitados?.length)" class="empty">
              No tienes invitaciones pendientes.
            </div>
          </div>
        </div>

        <ion-item-divider></ion-item-divider>

        <!-- ===== ACEPTADOS ===== -->
        <ion-item lines="none" detail="false" class="section-header mt">
          <div slot="start" class="section-title">Aceptados</div>

          <ion-button fill="clear" size="small" slot="end"
                      class="chev-btn"
                      (click)="toggle('acept')"
                      aria-label="Mostrar/ocultar aceptados">
            <ion-icon name="chevron-down-outline"
                      class="chev"
                      [class.open]="showAceptados"></ion-icon>
          </ion-button>
        </ion-item>

        <div class="collapse" [class.open]="showAceptados">
          <div class="collapse-inner">
            <ion-row *ngFor="let a of aceptadosDetalle; let i = index; trackBy: trackInvitado">
              <ion-col>
                <div class="row-item" [style.animationDelay.ms]="i * 40">
                  <div class="item-date">{{ a.fechaInvitacionTexto }}</div>
                  <div class="item-line">
                    <strong class="item-text">{{ a.nombre }}</strong>
                    <span class="badge badge-ok">ACEPTADO</span>
                  </div>
                </div>
              </ion-col>
            </ion-row>
            <div *ngIf="!aceptadosDetalle.length" class="empty">
              Aún no hay aceptados.
            </div>
          </div>
        </div>


      </ion-grid>
    </ng-container>
    <!-- esta es la parte de los embajadores invitados-->
  </ion-card-content>
</ion-card>
